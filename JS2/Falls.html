<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>简易瀑布流</title>
<style>
*{margin:0;padding:0;list-style:none;}
#box{width:1000px;margin:20px auto;overflow:hidden;}
#box ul{width:300px;float:left;margin-right:20px;}
#box ul li{margin-bottom:10px;background:#2CCDBA;border:2px solid #eee;}
</style>
<script>
window.onload=function(){
/*	//第一种方法
	function create20(){
		for(var i=0;i<20;i++){
			var oLi=document.createElement('li');
			oLi.style.height=Math.random()*(500-100)+100+'px';
			var h1=aUl[0].offsetHeight;
			var h2=aUl[1].offsetHeight;
			var h3=aUl[2].offsetHeight;
			if(h1<h2){
				if(h2<h3){
					aUl[0].appendChild(oLi);	
				}else{
					aUl[2].appendChild(oLi);
				}
			}else{
				if(h2<h3){
					aUl[1].appendChild(oLi);	
				}else{
					aUl[2].appendChild(oLi);
				}
			}	
		}	
	};*/
	
	//第二种方法
	function create20(){
		for(var i=0;i<20;i++){
			var oLi=document.createElement('li');
			oLi.style.height=Math.random()*(500-100)+100+'px';
			var arr=[];
			for(var j=0;j<aUl.length;j++){
				arr[j]=aUl[j];
			}
			arr.sort(function(ul1,ul2){
				return ul1.offsetHeight-ul2.offsetHeight;
			});
			arr[0].appendChild(oLi)
		}
	};
	
	var oBox=document.getElementById('box');
	var aUl=oBox.getElementsByTagName('ul');
	create20();	

	window.onscroll=function(){
		var sH=document.documentElement.scrollTop||document.body.scrollTop;
		var cH=document.documentElement.clientHeight;
		if(document.documentElement.scrollHeight<=cH+sH){
			create20();
		}
	};
};
</script>
</head>

<body>
<div id="box">
	<ul></ul>
	<ul></ul>
	<ul></ul>
</div>
</body>
</html>
